import*as e from"react";import{configureComponent as s,isFunction as r}from"@aws-amplify/ui";import{AuthenticatorProvider as o,useAuthenticator as t,useAuthenticatorInitMachine as i}from"@aws-amplify/ui-react-core";import{VERSION as n}from"../../version.mjs";import{useDeprecationWarning as m}from"../../hooks/useDeprecationWarning.mjs";import{CustomComponentsContext as a}from"./hooks/useCustomComponents/index.mjs";import"../../primitives/View/View.mjs";import{Router as p}from"./Router/Router.mjs";import{SetupTOTP as u}from"./SetupTOTP/SetupTOTP.mjs";import{SignIn as c}from"./SignIn/SignIn.mjs";import{SignUp as l}from"./SignUp/SignUp.mjs";import{ForceNewPassword as d}from"./ForceNewPassword/ForceNewPassword.mjs";import"./ResetPassword/ConfirmResetPassword.mjs";import{ResetPassword as f}from"./ResetPassword/ResetPassword.mjs";import{defaultComponents as g}from"./hooks/useCustomComponents/defaultComponents.mjs";function w({children:s,className:o,components:n,formFields:u,hideSignUp:c,initialState:l,loginMechanisms:d,passwordSettings:f,signUpAttributes:w,services:j,socialProviders:P,variation:S}){m({message:"The `passwordSettings` prop has been deprecated and will be removed in a future major version of Amplify UI.",shouldWarn:!!f});const{route:v,signOut:h,user:O}=t((({route:e,signOut:s,user:r})=>[e,s,r]));i({initialState:l,loginMechanisms:d,services:j,signUpAttributes:w,socialProviders:P,formFields:u});const U=e.useMemo((()=>({components:Object.assign(Object.assign({},g),n)})),[n]);return"authenticated"===v||"signOut"===v?s?e.createElement(e.Fragment,null,r(s)?s({signOut:h,user:O}):s):null:e.createElement(a.Provider,{value:U},e.createElement(p,{className:o,hideSignUp:c,variation:S}))}function j(r){return e.useEffect((()=>{s({packageName:"@aws-amplify/ui-react",version:n})}),[]),e.createElement(o,null,e.createElement(w,Object.assign({},r)))}j.Provider=o,j.ResetPassword=f,j.SetupTOTP=u,j.SignIn=c,j.SignUp=l,j.ForceNewPassword=d;export{j as Authenticator,w as AuthenticatorInternal};
